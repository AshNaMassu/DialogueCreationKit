@using Blazor.Diagrams.Components.Renderers
<style>
    .colored-node {
        border: 2px solid black;
        text-align: center;
    }

        .colored-node.selected {
            border-color: blue;
        }

        .colored-node .port {
            width: 30px;
            height: 30px;
        }

            .colored-node .port.blue {
                background-color: blue;
            }

            .colored-node .port.red {
                background-color: red;
            }
</style>

<div class="colored-node @(Node.Selected ? " selected" : "")">
    <div>N</div>
    @foreach (var port in Node.Ports.Cast<ColoredPort>()) // Notice the cast
    {
        <PortRenderer Port="port" Class="@(port.IsRed ? "red" : "blue")">
            @* You can put custom content here (e.g. custom components) *@
        </PortRenderer>
    }
</div>

@code {
    [Parameter]
    public NodeModel Node { get; set; }
}